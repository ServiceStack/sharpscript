<div class="gfm"><div class="highlight highlight-source-cs"><pre><span class="pl-k">var</span> <span class="pl-smi">context</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">ScriptContext</span>
{
    <span class="pl-smi">ScanTypes</span> <span class="pl-k">=</span> { <span class="pl-k">typeof</span>(<span class="pl-en">MyScriptMethods</span>) }
};
<span class="pl-smi">context</span>.<span class="pl-smi">Container</span>.<span class="pl-en">AddSingleton</span>&lt;<span class="pl-en">ICacheClient</span>&gt;(() <span class="pl-k">=&gt;</span> <span class="pl-k">new</span> <span class="pl-en">MemoryCacheClient</span>());
<span class="pl-smi">context</span>.<span class="pl-smi">Container</span>.<span class="pl-en">Resolve</span>&lt;<span class="pl-en">ICacheClient</span>&gt;().<span class="pl-en">Set</span>(<span class="pl-s"><span class="pl-pds">"</span>key<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>foo<span class="pl-pds">"</span></span>);
<span class="pl-smi">context</span>.<span class="pl-en">Init</span>();

<span class="pl-k">var</span> <span class="pl-smi">output</span> <span class="pl-k">=</span> <span class="pl-smi">context</span>.<span class="pl-en">EvaluateScript</span>(<span class="pl-s"><span class="pl-pds">"</span>&lt;p&gt;{{ 'key' | fromCache }}&lt;/p&gt;<span class="pl-pds">"</span></span>);</pre></div>
</div>